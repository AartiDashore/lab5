<!DOCTYPE html>
<html lang="en">
<!--
@author: FIXME: Sebastian Silva & Aarti Dashore
Seattle University, ARIN 5360
@see: https://catalog.seattleu.edu/preview_course_nopop.php?catoid=55&coid=190380
@version: 2.0.0+w26
-->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P2 Document Retrieval System</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="main-container">
    <!-- LEFT PANEL: Question History -->
    <div class="panel history-panel">
        <div class="panel-header">
            <h2>History</h2>
            <!--  Added clear history button -->
            <button id="clearHistoryButton" onclick="clearHistory()">Clear History</button>
        </div>
        <div id="historyList" class="history-list">
            <div class="empty-state">No searches yet</div>
            <!-- TODO 2.3: Implement history items here -->
            <div class="history-item" onclick="reloadSearch('example query')">
                <div class = "history-query">example Query</div>
                <div class="history-meta">5 results · 0.42s</div>
            </div>
        </div>
    </div>

    <!-- CENTER PANEL: Question Input -->
    <div class="panel search-panel">
        <h1>Lab 5: Document Retrieval</h1>

        <!-- Health Section (kept from original) -->
        <div class="health-section">
            <button id="healthButton" onclick="displayHealth()">Check Health</button>
            <div id="health-status">Click to check server status</div>
        </div>

        <!-- Search Input -->
        <div class="search-section">
            <textarea
                id="queryInput"
                placeholder="Enter your search query... (Shift+Enter for new line)"
                rows="3"
            ></textarea>

            <!-- TODO 2.4: Add search controls (checkboxes, n_results) here -->
             <div class ="search-controls">
                <label class="checkbox-label">
                    <input type="checkbox" id="useHybrid" checked>
                    Hybrid Search
                </label>
                <label class="checkbox-label">
                    <input type ="checkbox" id="useReranking" checked>
                    Reranking
                </label>
                <label class="number-label">
                    Results:
                    <input type="number" id="numResults" value="5" min="1" max="20">
                </label>
            </div>

            <button id="searchButton" onclick="performSearch()">Search</button>
        </div>

        <!-- TODO 2.4: Add metrics display section here -->
        <div class="metrics-section">
            <div class="metric">
                <span class="metric-label">Method</span>
                <span id="methodValue" class="metric-value">—</span>
            </div>
            <div class="metric">
                <span class="metric-label">Results</span>
                <span id="countValue" class="metric-value">—</span>
            </div>
            <div class="metric">
                <span class="metric-label">Time</span>
                <span id="timeValue" class="metric-value">—</span>
            </div>
        </div>
    </div>


    <!-- RIGHT PANEL: Results Display -->
    <div class="panel results-panel">
        <div class="panel-header">
            <h2>Results</h2>
            <!-- TODO: Add export button -->
            <button id="exportButton" onclick="exportResults()">Export JSON</button>
        </div>
        <div id="results" class="results-list">
            <div class="empty-state">Enter a query to search</div>
            <!-- TODO 2.2: Enhanced result cards will appear here -->
             <div class ="result-card">
                <div class ="result-card-header">
                <span class="result-card-title">Document Title</span>
                <span class="result-score">0.923</span>  <!-- place holder value until js is setup-->
                </div>
                <div class="results-source">filename.pdf</div>
                <div class="result-snippet">"Relevant excerpt from the document that matched query..."</div>
                <div class="result-rank">#1</div>
             </div>
        </div>
    </div>
</div>

<script src="search.js"></script>

</body>
</html>